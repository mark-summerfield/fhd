# TODO test Rename()
# TODO Compact()
# TODO Delete()
# TODO Purge()

fhd.go
fhdx.go
dump.go
entry.go
state.go
flag.go
filekind.go
saveitem.go
sid.go
marshal.go
util.go
consts.go
 
fhd_test.go # TODO

go.mod

README.md

st.sh

# NOTE Key-Value Database Structure

    "config" bucket
	key string # e.g., key="format" value=1
	value any  # e.g., key="ignore" value=bucket key=filename value=Îµ

    "states" bucket of StateItem (key + StateVal)
	key filename string
	value StateVal {
	    monitored bool
	    lastsid int # the most recent sid this file was saved into
	    filekind byte # so clients can see if they can offer diffs
	}

    "saveitems" bucket of SaveItem (key + SaveVal)
	key sid int # > 0
	value SaveVal {
	    when time.Time
	    comment string
	}

    "saves" bucket of buckets
	key sid int # > 0
	value bucket
	    key filename string
	    value Entry

# vim: syn=yaml
